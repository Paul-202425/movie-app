{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\paulm\\\\OneDrive\\\\Desktop\\\\MovieApp\\\\movie-app\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\n// frontend/src/App.js\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport MovieList from './components/MovieList';\nimport { auth, provider, signInWithPopup, signOut } from './firebase';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [movies, setMovies] = useState([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [user, setUser] = useState(null);\n  const [favorites, setFavorites] = useState({});\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(setUser);\n    return () => unsubscribe();\n  }, []);\n  const fetchTrendingMovies = async () => {\n    try {\n      const response = await axios.get('/api/trending');\n      setMovies(response.data.results);\n    } catch (error) {\n      console.error('Error fetching trending movies:', error);\n    }\n  };\n  const handleSearch = async e => {\n    e.preventDefault();\n    if (!searchQuery.trim()) return;\n    try {\n      const response = await axios.get(`/api/search?query=${searchQuery}`);\n      setMovies(response.data.results);\n    } catch (error) {\n      console.error('Error searching movies:', error);\n    }\n  };\n  const handleLogin = async () => {\n    try {\n      await signInWithPopup(auth, provider);\n    } catch (error) {\n      console.error('Login failed:', error);\n    }\n  };\n  const handleLogout = async () => {\n    try {\n      await signOut(auth);\n      setFavorites({});\n    } catch (error) {\n      console.error('Logout failed:', error);\n    }\n  };\n  const toggleFavorite = movie => {\n    if (!user) return;\n    setFavorites(prev => {\n      const updated = {\n        ...prev\n      };\n      if (updated[movie.id]) {\n        delete updated[movie.id];\n      } else {\n        updated[movie.id] = movie;\n      }\n      return updated;\n    });\n  };\n  useEffect(() => {\n    fetchTrendingMovies();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"\\uD83C\\uDFAC Trending Movies\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), user ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Welcome, \", user.displayName]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLogout,\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleLogin,\n      children: \"Login with Google\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSearch,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Search for a movie...\",\n        value: searchQuery,\n        onChange: e => setSearchQuery(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MovieList, {\n      movies: movies,\n      favorites: favorites,\n      toggleFavorite: toggleFavorite,\n      isLoggedIn: !!user\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), user && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\u2B50 Your Favorites\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(MovieList, {\n        movies: Object.values(favorites),\n        favorites: favorites,\n        toggleFavorite: toggleFavorite,\n        isLoggedIn: !!user\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"N7w79+AsPZ767GcNL0PeAVhDfKU=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","axios","MovieList","auth","provider","signInWithPopup","signOut","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","movies","setMovies","searchQuery","setSearchQuery","user","setUser","favorites","setFavorites","unsubscribe","onAuthStateChanged","fetchTrendingMovies","response","get","data","results","error","console","handleSearch","e","preventDefault","trim","handleLogin","handleLogout","toggleFavorite","movie","prev","updated","id","className","children","fileName","_jsxFileName","lineNumber","columnNumber","displayName","onClick","onSubmit","type","placeholder","value","onChange","target","isLoggedIn","Object","values","_c","$RefreshReg$"],"sources":["C:/Users/paulm/OneDrive/Desktop/MovieApp/movie-app/frontend/src/App.js"],"sourcesContent":["// frontend/src/App.js\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport MovieList from './components/MovieList';\nimport { auth, provider, signInWithPopup, signOut } from './firebase';\n\nfunction App() {\n  const [movies, setMovies] = useState([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [user, setUser] = useState(null);\n  const [favorites, setFavorites] = useState({});\n\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(setUser);\n    return () => unsubscribe();\n  }, []);\n\n  const fetchTrendingMovies = async () => {\n    try {\n      const response = await axios.get('/api/trending');\n      setMovies(response.data.results);\n    } catch (error) {\n      console.error('Error fetching trending movies:', error);\n    }\n  };\n\n  const handleSearch = async (e) => {\n    e.preventDefault();\n    if (!searchQuery.trim()) return;\n    try {\n      const response = await axios.get(`/api/search?query=${searchQuery}`);\n      setMovies(response.data.results);\n    } catch (error) {\n      console.error('Error searching movies:', error);\n    }\n  };\n\n  const handleLogin = async () => {\n    try {\n      await signInWithPopup(auth, provider);\n    } catch (error) {\n      console.error('Login failed:', error);\n    }\n  };\n\n  const handleLogout = async () => {\n    try {\n      await signOut(auth);\n      setFavorites({});\n    } catch (error) {\n      console.error('Logout failed:', error);\n    }\n  };\n\n  const toggleFavorite = (movie) => {\n    if (!user) return;\n    setFavorites((prev) => {\n      const updated = { ...prev };\n      if (updated[movie.id]) {\n        delete updated[movie.id];\n      } else {\n        updated[movie.id] = movie;\n      }\n      return updated;\n    });\n  };\n\n  useEffect(() => {\n    fetchTrendingMovies();\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <h1>üé¨ Trending Movies</h1>\n\n      {user ? (\n        <div>\n          <p>Welcome, {user.displayName}</p>\n          <button onClick={handleLogout}>Logout</button>\n        </div>\n      ) : (\n        <button onClick={handleLogin}>Login with Google</button>\n      )}\n\n      <form onSubmit={handleSearch}>\n        <input\n          type=\"text\"\n          placeholder=\"Search for a movie...\"\n          value={searchQuery}\n          onChange={(e) => setSearchQuery(e.target.value)}\n        />\n        <button type=\"submit\">Search</button>\n      </form>\n\n      <MovieList\n        movies={movies}\n        favorites={favorites}\n        toggleFavorite={toggleFavorite}\n        isLoggedIn={!!user}\n      />\n\n      {user && (\n        <>\n          <h2>‚≠ê Your Favorites</h2>\n          <MovieList\n            movies={Object.values(favorites)}\n            favorites={favorites}\n            toggleFavorite={toggleFavorite}\n            isLoggedIn={!!user}\n          />\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}