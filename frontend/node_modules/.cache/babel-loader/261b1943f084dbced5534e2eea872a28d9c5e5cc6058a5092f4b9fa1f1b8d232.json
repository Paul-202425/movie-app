{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\paulm\\\\OneDrive\\\\Desktop\\\\MovieApp\\\\movie-app\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\n// frontend/src/App.js\nimport React, { useState, useEffect, useCallback } from 'react';\nimport axios from 'axios';\nimport MovieList from './components/MovieList';\nimport MovieModal from './components/MovieModal';\nimport DarkModeToggle from './components/DarkModeToggle';\nimport { auth, provider, signInWithPopup, signOut } from './firebase';\nimport './App.css';\n\n/**\n * API base:\n * - In dev with CRA, keep baseURL '' and let the \"proxy\" in package.json forward /api/*.\n * - In prod, set REACT_APP_API_BASE (e.g., https://your-domain.com) and the app will use it.\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE = typeof import.meta !== 'undefined' && import.meta.env && import.meta.env.VITE_API_BASE || process.env.REACT_APP_API_BASE || '';\nconst api = axios.create({\n  baseURL: API_BASE\n});\n\n// LocalStorage keys\nconst LS_KEYS = {\n  favorites: 'movieapp_favorites',\n  ratings: 'movieapp_ratings',\n  darkMode: 'movieapp_darkmode'\n};\nfunction App() {\n  _s();\n  const [movies, setMovies] = useState([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [darkMode, setDarkMode] = useState(() => {\n    const saved = localStorage.getItem(LS_KEYS.darkMode);\n    return saved ? JSON.parse(saved) : false;\n  });\n  const [favorites, setFavorites] = useState(() => {\n    const stored = localStorage.getItem(LS_KEYS.favorites);\n    return stored ? JSON.parse(stored) : {};\n  });\n  const [ratings, setRatings] = useState(() => {\n    const stored = localStorage.getItem(LS_KEYS.ratings);\n    return stored ? JSON.parse(stored) : {};\n  });\n  const [selectedMovie, setSelectedMovie] = useState(null);\n  const [user, setUser] = useState(null);\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  // Persist dark mode and apply body class\n  useEffect(() => {\n    document.body.className = darkMode ? 'dark-mode' : '';\n    localStorage.setItem(LS_KEYS.darkMode, JSON.stringify(darkMode));\n  }, [darkMode]);\n  const toggleDarkMode = useCallback(() => setDarkMode(d => !d), []);\n  const fetchTrendingMovies = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n    // Use AbortController to avoid setState after unmount\n    const controller = new AbortController();\n    try {\n      const {\n        data\n      } = await api.get('/api/trending', {\n        signal: controller.signal\n      });\n      setMovies(Array.isArray(data === null || data === void 0 ? void 0 : data.results) ? data.results : []);\n    } catch (err) {\n      var _err$response;\n      if (axios.isCancel(err)) return;\n      console.error('Error fetching trending movies:', err);\n      setError(`Failed to load trending movies (${(err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.status) || 'network'}).`);\n      setMovies([]);\n    } finally {\n      setLoading(false);\n    }\n    return () => controller.abort();\n  }, []);\n  const handleSearch = useCallback(async e => {\n    var _e$preventDefault;\n    e === null || e === void 0 ? void 0 : (_e$preventDefault = e.preventDefault) === null || _e$preventDefault === void 0 ? void 0 : _e$preventDefault.call(e);\n    const q = searchQuery.trim();\n    if (!q) return;\n    setLoading(true);\n    setError(null);\n    const controller = new AbortController();\n    try {\n      // cleaner params style (axios handles encoding)\n      const {\n        data\n      } = await api.get('/api/search', {\n        params: {\n          query: q\n        },\n        signal: controller.signal\n      });\n      setMovies(Array.isArray(data === null || data === void 0 ? void 0 : data.results) ? data.results : []);\n    } catch (err) {\n      var _err$response2;\n      if (axios.isCancel(err)) return;\n      console.error('Error searching movies:', err);\n      setError(`Search failed (${(err === null || err === void 0 ? void 0 : (_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : _err$response2.status) || 'network'}).`);\n      setMovies([]);\n    } finally {\n      setLoading(false);\n    }\n    return () => controller.abort();\n  }, [searchQuery]);\n  const toggleFavorite = useCallback(movie => {\n    setFavorites(prev => {\n      const updated = {\n        ...prev\n      };\n      if (updated[movie.id]) delete updated[movie.id];else updated[movie.id] = movie;\n      localStorage.setItem(LS_KEYS.favorites, JSON.stringify(updated));\n      return updated;\n    });\n  }, []);\n  const rateMovie = useCallback((movieId, value) => {\n    setRatings(prev => {\n      const updated = {\n        ...prev,\n        [movieId]: value\n      };\n      localStorage.setItem(LS_KEYS.ratings, JSON.stringify(updated));\n      return updated;\n    });\n  }, []);\n  const handleLogin = useCallback(async () => {\n    try {\n      const result = await signInWithPopup(auth, provider);\n      setUser(result.user);\n    } catch (err) {\n      console.error('Login error:', err);\n      setError('Login failed. Please try again.');\n    }\n  }, []);\n  const handleLogout = useCallback(async () => {\n    try {\n      await signOut(auth);\n      setUser(null);\n    } catch (err) {\n      console.error('Logout error:', err);\n      setError('Logout failed. Please try again.');\n    }\n  }, []);\n\n  // Initial load\n  useEffect(() => {\n    fetchTrendingMovies();\n  }, [fetchTrendingMovies]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `App ${darkMode ? 'dark' : 'light'}`,\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"app-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\uD83C\\uDFAC Welcome to Movie Explorer \\u2013 Discover, Rate & Save Your Favorites\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"toggle-bar\",\n        children: [/*#__PURE__*/_jsxDEV(DarkModeToggle, {\n          darkMode: darkMode,\n          toggleDarkMode: toggleDarkMode\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this), user ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-section\",\n          children: [user.photoURL && /*#__PURE__*/_jsxDEV(\"img\", {\n            src: user.photoURL,\n            alt: \"User\",\n            className: \"user-photo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: user.displayName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleLogout,\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleLogin,\n          children: \"Login with Google\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            const favs = Object.values(favorites);\n            setMovies(favs);\n            if (!favs.length) {\n              setError('No favorites yet. Add some ⭐ and they’ll show up here.');\n              setTimeout(() => setError(null), 2500);\n            }\n          },\n          title: \"Show your saved favorites\",\n          children: \"\\u2B50 View Favorites\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: fetchTrendingMovies,\n          title: \"Show daily trending movies\",\n          children: \"\\uD83D\\uDD25 Show Trending\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSearch,\n        className: \"search-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Search for a movie...\",\n          value: searchQuery,\n          onChange: e => setSearchQuery(e.target.value),\n          \"aria-label\": \"Search movies\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading\\u2026\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 21\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: 'salmon'\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 19\n      }, this), !loading && !error && movies.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No movies found. Try searching or showing trending.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MovieList, {\n      movies: movies,\n      favorites: favorites,\n      toggleFavorite: toggleFavorite,\n      isLoggedIn: !!user,\n      onMovieClick: setSelectedMovie,\n      ratings: ratings,\n      onRate: rateMovie\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }, this), (selectedMovie === null || selectedMovie === void 0 ? void 0 : selectedMovie.id) && /*#__PURE__*/_jsxDEV(MovieModal, {\n      movie: selectedMovie,\n      onClose: () => setSelectedMovie(null),\n      toggleFavorite: toggleFavorite,\n      isFavorite: !!favorites[selectedMovie.id],\n      setRating: rateMovie,\n      rating: ratings[selectedMovie.id] || 0\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 155,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"OtlRkHl8yu9g9rEuFowI+67Bozo=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","axios","MovieList","MovieModal","DarkModeToggle","auth","provider","signInWithPopup","signOut","jsxDEV","_jsxDEV","API_BASE","import","meta","env","VITE_API_BASE","process","REACT_APP_API_BASE","api","create","baseURL","LS_KEYS","favorites","ratings","darkMode","App","_s","movies","setMovies","searchQuery","setSearchQuery","setDarkMode","saved","localStorage","getItem","JSON","parse","setFavorites","stored","setRatings","selectedMovie","setSelectedMovie","user","setUser","error","setError","loading","setLoading","document","body","className","setItem","stringify","toggleDarkMode","d","fetchTrendingMovies","controller","AbortController","data","get","signal","Array","isArray","results","err","_err$response","isCancel","console","response","status","abort","handleSearch","e","_e$preventDefault","preventDefault","call","q","trim","params","query","_err$response2","toggleFavorite","movie","prev","updated","id","rateMovie","movieId","value","handleLogin","result","handleLogout","children","fileName","_jsxFileName","lineNumber","columnNumber","photoURL","src","alt","displayName","onClick","favs","Object","values","length","setTimeout","title","onSubmit","type","placeholder","onChange","target","style","color","isLoggedIn","onMovieClick","onRate","onClose","isFavorite","setRating","rating","_c","$RefreshReg$"],"sources":["C:/Users/paulm/OneDrive/Desktop/MovieApp/movie-app/frontend/src/App.js"],"sourcesContent":["// frontend/src/App.js\nimport React, { useState, useEffect, useCallback } from 'react';\nimport axios from 'axios';\nimport MovieList from './components/MovieList';\nimport MovieModal from './components/MovieModal';\nimport DarkModeToggle from './components/DarkModeToggle';\nimport { auth, provider, signInWithPopup, signOut } from './firebase';\nimport './App.css';\n\n/**\n * API base:\n * - In dev with CRA, keep baseURL '' and let the \"proxy\" in package.json forward /api/*.\n * - In prod, set REACT_APP_API_BASE (e.g., https://your-domain.com) and the app will use it.\n */\nconst API_BASE =\n  (typeof import.meta !== 'undefined' &&\n    import.meta.env &&\n    import.meta.env.VITE_API_BASE) ||\n  process.env.REACT_APP_API_BASE ||\n  '';\n\nconst api = axios.create({ baseURL: API_BASE });\n\n// LocalStorage keys\nconst LS_KEYS = {\n  favorites: 'movieapp_favorites',\n  ratings: 'movieapp_ratings',\n  darkMode: 'movieapp_darkmode',\n};\n\nfunction App() {\n  const [movies, setMovies] = useState([]);\n  const [searchQuery, setSearchQuery] = useState('');\n\n  const [darkMode, setDarkMode] = useState(() => {\n    const saved = localStorage.getItem(LS_KEYS.darkMode);\n    return saved ? JSON.parse(saved) : false;\n  });\n\n  const [favorites, setFavorites] = useState(() => {\n    const stored = localStorage.getItem(LS_KEYS.favorites);\n    return stored ? JSON.parse(stored) : {};\n  });\n\n  const [ratings, setRatings] = useState(() => {\n    const stored = localStorage.getItem(LS_KEYS.ratings);\n    return stored ? JSON.parse(stored) : {};\n  });\n\n  const [selectedMovie, setSelectedMovie] = useState(null);\n  const [user, setUser] = useState(null);\n\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  // Persist dark mode and apply body class\n  useEffect(() => {\n    document.body.className = darkMode ? 'dark-mode' : '';\n    localStorage.setItem(LS_KEYS.darkMode, JSON.stringify(darkMode));\n  }, [darkMode]);\n\n  const toggleDarkMode = useCallback(() => setDarkMode((d) => !d), []);\n\n  const fetchTrendingMovies = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n    // Use AbortController to avoid setState after unmount\n    const controller = new AbortController();\n    try {\n      const { data } = await api.get('/api/trending', { signal: controller.signal });\n      setMovies(Array.isArray(data?.results) ? data.results : []);\n    } catch (err) {\n      if (axios.isCancel(err)) return;\n      console.error('Error fetching trending movies:', err);\n      setError(`Failed to load trending movies (${err?.response?.status || 'network'}).`);\n      setMovies([]);\n    } finally {\n      setLoading(false);\n    }\n    return () => controller.abort();\n  }, []);\n\n  const handleSearch = useCallback(\n    async (e) => {\n      e?.preventDefault?.();\n      const q = searchQuery.trim();\n      if (!q) return;\n      setLoading(true);\n      setError(null);\n      const controller = new AbortController();\n      try {\n        // cleaner params style (axios handles encoding)\n        const { data } = await api.get('/api/search', {\n          params: { query: q },\n          signal: controller.signal,\n        });\n        setMovies(Array.isArray(data?.results) ? data.results : []);\n      } catch (err) {\n        if (axios.isCancel(err)) return;\n        console.error('Error searching movies:', err);\n        setError(`Search failed (${err?.response?.status || 'network'}).`);\n        setMovies([]);\n      } finally {\n        setLoading(false);\n      }\n      return () => controller.abort();\n    },\n    [searchQuery]\n  );\n\n  const toggleFavorite = useCallback((movie) => {\n    setFavorites((prev) => {\n      const updated = { ...prev };\n      if (updated[movie.id]) delete updated[movie.id];\n      else updated[movie.id] = movie;\n      localStorage.setItem(LS_KEYS.favorites, JSON.stringify(updated));\n      return updated;\n    });\n  }, []);\n\n  const rateMovie = useCallback((movieId, value) => {\n    setRatings((prev) => {\n      const updated = { ...prev, [movieId]: value };\n      localStorage.setItem(LS_KEYS.ratings, JSON.stringify(updated));\n      return updated;\n    });\n  }, []);\n\n  const handleLogin = useCallback(async () => {\n    try {\n      const result = await signInWithPopup(auth, provider);\n      setUser(result.user);\n    } catch (err) {\n      console.error('Login error:', err);\n      setError('Login failed. Please try again.');\n    }\n  }, []);\n\n  const handleLogout = useCallback(async () => {\n    try {\n      await signOut(auth);\n      setUser(null);\n    } catch (err) {\n      console.error('Logout error:', err);\n      setError('Logout failed. Please try again.');\n    }\n  }, []);\n\n  // Initial load\n  useEffect(() => {\n    fetchTrendingMovies();\n  }, [fetchTrendingMovies]);\n\n  return (\n    <div className={`App ${darkMode ? 'dark' : 'light'}`}>\n      <header className=\"app-header\">\n        <h1>🎬 Welcome to Movie Explorer – Discover, Rate & Save Your Favorites</h1>\n\n        <div className=\"toggle-bar\">\n          <DarkModeToggle darkMode={darkMode} toggleDarkMode={toggleDarkMode} />\n\n          {user ? (\n            <div className=\"user-section\">\n              {user.photoURL && <img src={user.photoURL} alt=\"User\" className=\"user-photo\" />}\n              <span>{user.displayName}</span>\n              <button onClick={handleLogout}>Logout</button>\n            </div>\n          ) : (\n            <button onClick={handleLogin}>Login with Google</button>\n          )}\n\n          <button\n            onClick={() => {\n              const favs = Object.values(favorites);\n              setMovies(favs);\n              if (!favs.length) {\n                setError('No favorites yet. Add some ⭐ and they’ll show up here.');\n                setTimeout(() => setError(null), 2500);\n              }\n            }}\n            title=\"Show your saved favorites\"\n          >\n            ⭐ View Favorites\n          </button>\n\n          <button onClick={fetchTrendingMovies} title=\"Show daily trending movies\">\n            🔥 Show Trending\n          </button>\n        </div>\n\n        <form onSubmit={handleSearch} className=\"search-form\">\n          <input\n            type=\"text\"\n            placeholder=\"Search for a movie...\"\n            value={searchQuery}\n            onChange={(e) => setSearchQuery(e.target.value)}\n            aria-label=\"Search movies\"\n          />\n          <button type=\"submit\">Search</button>\n        </form>\n\n        {loading && <p>Loading…</p>}\n        {error && <p style={{ color: 'salmon' }}>{error}</p>}\n        {!loading && !error && movies.length === 0 && (\n          <p>No movies found. Try searching or showing trending.</p>\n        )}\n      </header>\n\n      <MovieList\n        movies={movies}\n        favorites={favorites}\n        toggleFavorite={toggleFavorite}\n        isLoggedIn={!!user}\n        onMovieClick={setSelectedMovie}\n        ratings={ratings}\n        onRate={rateMovie}\n      />\n\n      {selectedMovie?.id && (\n        <MovieModal\n          movie={selectedMovie}\n          onClose={() => setSelectedMovie(null)}\n          toggleFavorite={toggleFavorite}\n          isFavorite={!!favorites[selectedMovie.id]}\n          setRating={rateMovie}\n          rating={ratings[selectedMovie.id] || 0}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}